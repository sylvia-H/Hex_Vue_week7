"use strict";(self["webpackChunkweek7_vue_project"]=self["webpackChunkweek7_vue_project"]||[]).push([[759],{9759:function(e,t,l){l.r(t),l.d(t,{default:function(){return Tt}});var o=l(6252),a=l(3577);const n={class:"container"},i={class:"row py-3"},s={class:"col-10 offset-1"},r={class:"d-flex justify-content-between mx-6 my-8"},m=(0,o._)("h2",null,"產品列表",-1),c={class:"table table-hover mt-4 text-center"},d=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"分類"),(0,o._)("th",null,"產品名稱"),(0,o._)("th",null,"原售價（元）"),(0,o._)("th",null,"優惠價（元）"),(0,o._)("th",null,"是否上架"),(0,o._)("th",null,"編輯")])],-1),u={class:"badge bg-primary"},p=["onClick"],b=["onClick"],_={class:"btn-group",role:"group"},g=["onClick"],h=(0,o._)("i",{class:"bi bi-pencil-square"},null,-1),f=[h],y=["onClick"],I=(0,o._)("i",{class:"bi bi-trash"},null,-1),w=[I],v=(0,o.Uk)(" 目前有 "),U=(0,o.Uk)(" 項產品 "),k=(0,o._)("br",null,null,-1);function x(e,t,l,h,I,x){const P=(0,o.up)("PaginationProducts"),V=(0,o.up)("ModalEdit");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",i,[(0,o._)("div",s,[(0,o._)("div",r,[m,(0,o._)("button",{type:"button",class:"btn btn-outline-dark",onClick:t[0]||(t[0]=e=>{x.openEditModal(1,null)})}," 建立新的產品 ")]),(0,o._)("table",c,[d,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(I.products,(l=>((0,o.wg)(),(0,o.iD)("tr",{key:l.id},[(0,o._)("td",null,[(0,o._)("p",u,(0,a.zw)(l.category),1)]),(0,o._)("td",null,(0,a.zw)(l.title),1),(0,o._)("td",null,(0,a.zw)(l.origin_price),1),(0,o._)("td",null,(0,a.zw)(l.price),1),(0,o._)("td",null,[l.is_enabled?((0,o.wg)(),(0,o.iD)("span",{key:0,onClick:e=>x.changeStatus(l.id),onKeydown:t[1]||(t[1]=(...t)=>e.enter&&e.enter(...t)),class:"btn btn-success py-2 px-2 rounded"}," 上架 ",40,p)):((0,o.wg)(),(0,o.iD)("span",{key:1,onClick:e=>x.changeStatus(l.id),onKeydown:t[2]||(t[2]=(...t)=>e.enter&&e.enter(...t)),class:"btn btn-dark py-2 px-2 rounded"}," 未上架 ",40,b))]),(0,o._)("td",null,[(0,o._)("div",_,[(0,o._)("button",{type:"button",class:"btn btn-warning",onClick:e=>x.openEditModal(0,l)},f,8,g),(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:e=>x.delProduct(l)},w,8,y)])])])))),128))])]),(0,o._)("p",null,[v,(0,o._)("span",null,(0,a.zw)(I.products.length),1),U]),k,(0,o.Wm)(P,{pagination:I.pagination,class:"d-flex justify-content-center",onGetProducts:x.getProducts},null,8,["pagination","onGetProducts"])]),(0,o.Wm)(V,{ref:"editProductModal",onEditProduct:x.editProduct},null,8,["onEditProduct"])])])}var P=l(8638),V=l(9963);const C={id:"editModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productEditModalLabel","aria-hidden":"true"},F={class:"modal-dialog modal-xl"},D={class:"modal-content border-0"},$=(0,o._)("div",{class:"modal-header bg-dark text-white"},[(0,o._)("h5",{class:"modal-title"},[(0,o._)("span",null,"新增產品")]),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),M={class:"modal-body"},z={class:"row"},S={class:"col-sm-4"},E={class:"bg-secondary text-light rounded p-4 mb-4"},N=(0,o._)("h4",{class:"mb-3"},"圖檔上傳區",-1),T={for:"btnUploadImg"},B={key:0,class:"text-danger fw-bolder mb-3"},L={key:1,class:"mb-3"},j={class:"input-group mb-3"},J=(0,o._)("span",{class:"material-icons"}," content_copy ",-1),K=[J],O=["textContent"],Z={class:"mb-2"},q={class:"mb-3"},A=(0,o._)("h4",{class:"mb-3"},"產品主圖",-1),G={class:"border mb-8"},H={class:"p-8"},W=["src","alt"],Y=(0,o._)("h4",{class:"mb-3"},"新增其他附圖",-1),Q={class:"input-group mb-3"},R=["onUpdate:modelValue"],X=["onClick"],ee=(0,o._)("i",{class:"bi bi-trash"},null,-1),te=[ee],le={class:"p-8"},oe=["src","alt"],ae={class:"col-sm-8"},ne={class:"row"},ie={class:"mb-3 col-md-6"},se={for:"title",class:"form-label w-100"},re=(0,o.Uk)(" 產品名稱 "),me={class:"mb-3 col-md-6"},ce={for:"category",class:"form-label w-100"},de=(0,o.Uk)(" 類別 "),ue={class:"row"},pe={class:"mb-3 col-md-6"},be={for:"number",class:"form-label w-100"},_e=(0,o.Uk)(" 內含產品數量 "),ge={class:"mb-3 col-md-6"},he={for:"unit",class:"form-label w-100"},fe=(0,o.Uk)(" 單位 "),ye={class:"row"},Ie={class:"mb-3 col-md-6"},we={for:"origin_price",class:"form-label w-100"},ve=(0,o.Uk)(" 原價 "),Ue={class:"mb-3 col-md-6"},ke={for:"price",class:"form-label w-100"},xe=(0,o.Uk)(" 優惠價 "),Pe=(0,o._)("hr",null,null,-1),Ve={class:"mb-3"},Ce={for:"description",class:"form-label w-100"},Fe=(0,o.Uk)(" 產品描述 "),De={class:"mb-3"},$e={for:"content",class:"form-label w-100"},Me=(0,o.Uk)(" 說明內容 "),ze={class:"mb-3"},Se={class:"form-check"},Ee={class:"form-check-label",for:"is_enabled"},Ne=(0,o.Uk)(" 是否上架 "),Te=(0,o._)("hr",null,null,-1),Be={class:"row"},Le={class:"mb-3"},je={class:"form-check"},Je={class:"form-check-label",for:"is_nutrients"},Ke=(0,o.Uk)(" 是否啟用營養成分表 "),Oe={class:"mb-3 col-md-4"},Ze={for:"calorie",class:"form-label w-100"},qe=(0,o.Uk)(" 熱量 "),Ae={class:"mb-3 col-md-4"},Ge={for:"carbohydrate",class:"form-label w-100"},He=(0,o.Uk)(" 總碳水化合物 "),We={class:"mb-3 col-md-4"},Ye={for:"crudeFat",class:"form-label w-100"},Qe=(0,o.Uk)(" 粗脂肪 "),Re={class:"mb-3 col-md-4"},Xe={for:"SaturatedFat",class:"form-label w-100"},et=(0,o.Uk)(" 飽和脂肪 "),tt={class:"mb-3 col-md-4"},lt={for:"protein",class:"form-label w-100"},ot=(0,o.Uk)(" 粗蛋白 "),at={class:"mb-3 col-md-4"},nt={for:"DietaryFiber",class:"form-label w-100"},it=(0,o.Uk)(" 膳食纖維 "),st={class:"mb-3 col-md-4"},rt={for:"sodium",class:"form-label w-100"},mt=(0,o.Uk)(" 鈉 "),ct={class:"mb-3 col-md-4"},dt={for:"calcium",class:"form-label w-100"},ut=(0,o.Uk)(" 鈣 "),pt={class:"mb-3 col-md-4"},bt={for:"potassium",class:"form-label w-100"},_t=(0,o.Uk)(" 鉀 "),gt={class:"mb-3 col-md-4"},ht={for:"zinc",class:"form-label w-100"},ft=(0,o.Uk)(" 鋅 "),yt={class:"mb-3 col-md-4"},It={for:"magnesium",class:"form-label w-100"},wt=(0,o.Uk)(" 鎂 "),vt={class:"mb-3 col-md-4"},Ut={for:"iron",class:"form-label w-100"},kt=(0,o.Uk)(" 鐵 "),xt={class:"modal-footer"},Pt=(0,o._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Vt(e,t,l,n,i,s){return(0,o.wg)(),(0,o.iD)("div",C,[(0,o._)("div",F,[(0,o._)("div",D,[$,(0,o._)("div",M,[(0,o._)("div",z,[(0,o._)("div",S,[(0,o._)("div",E,[N,(0,o._)("label",T,[(0,o._)("input",{type:"file",class:"form-control mb-3",onChange:t[0]||(t[0]=(...e)=>s.uploadProductImg&&s.uploadProductImg(...e)),id:"btnUploadImg",placeholder:"請輸入圖片連結"},null,32)]),i.is_uploadImg?((0,o.wg)(),(0,o.iD)("p",B," 圖片上傳中...請靜待回傳結果 ")):((0,o.wg)(),(0,o.iD)("p",L,"圖檔網址回傳結果：")),(0,o._)("div",j,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"imgFileLink","onUpdate:modelValue":t[1]||(t[1]=e=>i.uploadImgFile.imageUrl=e),"aria-label":"圖檔連結位址",placeholder:"圖檔連結位址"},null,512),[[V.nr,i.uploadImgFile.imageUrl]]),(0,o._)("button",{type:"button",class:"input-group-text",id:"btn_copyLink",onClick:t[2]||(t[2]=e=>s.copyText()),"data-clipboard-target":"#imgFileLink"},K)]),(0,o._)("p",{textContent:(0,a.zw)(i.uploadImgFile.message)},null,8,O)]),(0,o._)("div",Z,[(0,o._)("div",q,[A,(0,o._)("div",G,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control mb-3","aria-label":"請輸入圖片網址或上傳圖檔","aria-describedby":"button-addon2",placeholder:"請輸入圖片連結位址","onUpdate:modelValue":t[3]||(t[3]=e=>i.tempItem.imageUrl=e)},null,512),[[V.nr,i.tempItem.imageUrl]]),(0,o._)("div",H,[(0,o._)("img",{src:i.tempItem.imageUrl,alt:i.tempItem.title+"主圖"},null,8,W)])])])]),(0,o._)("div",null,[Y,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tempItem.imagesUrl,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"border mb-8"},[(0,o._)("div",Q,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","aria-label":"請輸入圖片網址","aria-describedby":"button-addon2",placeholder:"請輸入圖片連結位址或上傳圖檔","onUpdate:modelValue":e=>i.tempItem.imagesUrl[t]=e},null,8,R),[[V.nr,i.tempItem.imagesUrl[t]]]),(0,o._)("button",{class:"btn btn-danger",type:"button",onClick:e=>i.tempItem.imagesUrl.splice(t,1)},te,8,X)]),(0,o._)("div",le,[(0,o._)("img",{src:e,alt:i.tempItem.title+"附圖"+(Number(t)+1)},null,8,oe)])])))),128)),(0,o._)("button",{type:"button",class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[4]||(t[4]=e=>i.tempItem.imagesUrl.push(""))}," 新增圖片 ")])]),(0,o._)("div",ae,[(0,o._)("div",ne,[(0,o._)("div",ie,[(0,o._)("label",se,[re,(0,o.wy)((0,o._)("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入產品名稱","onUpdate:modelValue":t[5]||(t[5]=e=>i.tempItem.title=e)},null,512),[[V.nr,i.tempItem.title]])])]),(0,o._)("div",me,[(0,o._)("label",ce,[de,(0,o.wy)((0,o._)("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入產品類別","onUpdate:modelValue":t[6]||(t[6]=e=>i.tempItem.category=e)},null,512),[[V.nr,i.tempItem.category]])])])]),(0,o._)("div",ue,[(0,o._)("div",pe,[(0,o._)("label",be,[_e,(0,o.wy)((0,o._)("input",{id:"number",type:"number",class:"form-control",placeholder:"請輸入數量","onUpdate:modelValue":t[7]||(t[7]=e=>i.tempItem.number=e)},null,512),[[V.nr,i.tempItem.number,void 0,{number:!0}]])])]),(0,o._)("div",ge,[(0,o._)("label",he,[fe,(0,o.wy)((0,o._)("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":t[8]||(t[8]=e=>i.tempItem.unit=e)},null,512),[[V.nr,i.tempItem.unit]])])])]),(0,o._)("div",ye,[(0,o._)("div",Ie,[(0,o._)("label",we,[ve,(0,o.wy)((0,o._)("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入產品原價","onUpdate:modelValue":t[9]||(t[9]=e=>i.tempItem.origin_price=e)},null,512),[[V.nr,i.tempItem.origin_price,void 0,{number:!0}]])])]),(0,o._)("div",Ue,[(0,o._)("label",ke,[xe,(0,o.wy)((0,o._)("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入折扣優惠價","onUpdate:modelValue":t[10]||(t[10]=e=>i.tempItem.price=e)},null,512),[[V.nr,i.tempItem.price,void 0,{number:!0}]])])])]),Pe,(0,o._)("div",Ve,[(0,o._)("label",Ce,[Fe,(0,o.wy)((0,o._)("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":t[11]||(t[11]=e=>i.tempItem.description=e)},"\n                  ",512),[[V.nr,i.tempItem.description]])])]),(0,o._)("div",De,[(0,o._)("label",$e,[Me,(0,o.wy)((0,o._)("textarea",{id:"content",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":t[12]||(t[12]=e=>i.tempItem.content=e)},"\n                  ",512),[[V.nr,i.tempItem.content]])])]),(0,o._)("div",ze,[(0,o._)("div",Se,[(0,o._)("label",Ee,[Ne,(0,o.wy)((0,o._)("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":t[13]||(t[13]=e=>i.tempItem.is_enabled=e)},null,512),[[V.e8,i.tempItem.is_enabled]])])])]),Te,(0,o._)("div",Be,[(0,o._)("div",Le,[(0,o._)("div",je,[(0,o._)("label",Je,[Ke,(0,o.wy)((0,o._)("input",{id:"is_nutrients",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":t[14]||(t[14]=e=>i.tempItem.is_nutrients=e)},null,512),[[V.e8,i.tempItem.is_nutrients]])])])]),(0,o._)("div",Oe,[(0,o._)("label",Ze,[qe,(0,o.wy)((0,o._)("input",{id:"calorie",type:"number",min:"0",class:"form-control",placeholder:"每100g熱量","onUpdate:modelValue":t[15]||(t[15]=e=>i.tempItem.calorie=e)},null,512),[[V.nr,i.tempItem.calorie,void 0,{number:!0}]])])]),(0,o._)("div",Ae,[(0,o._)("label",Ge,[He,(0,o.wy)((0,o._)("input",{id:"carbohydrate",type:"number",min:"0",max:"100",class:"form-control",placeholder:"每100g總碳水化合物","onUpdate:modelValue":t[16]||(t[16]=e=>i.tempItem.carbohydrate=e)},null,512),[[V.nr,i.tempItem.carbohydrate,void 0,{number:!0}]])])]),(0,o._)("div",We,[(0,o._)("label",Ye,[Qe,(0,o.wy)((0,o._)("input",{id:"crudeFat",type:"number",min:"0",max:"100",class:"form-control",placeholder:"每100g粗脂肪","onUpdate:modelValue":t[17]||(t[17]=e=>i.tempItem.crudeFat=e)},null,512),[[V.nr,i.tempItem.crudeFat,void 0,{number:!0}]])])]),(0,o._)("div",Re,[(0,o._)("label",Xe,[et,(0,o.wy)((0,o._)("input",{id:"SaturatedFat",type:"number",min:"0",max:"100",class:"form-control",placeholder:"每100g飽和脂肪","onUpdate:modelValue":t[18]||(t[18]=e=>i.tempItem.SaturatedFat=e)},null,512),[[V.nr,i.tempItem.SaturatedFat,void 0,{number:!0}]])])]),(0,o._)("div",tt,[(0,o._)("label",lt,[ot,(0,o.wy)((0,o._)("input",{id:"protein",type:"number",min:"0",max:"100",class:"form-control",placeholder:"每100g粗蛋白","onUpdate:modelValue":t[19]||(t[19]=e=>i.tempItem.protein=e)},null,512),[[V.nr,i.tempItem.protein,void 0,{number:!0}]])])]),(0,o._)("div",at,[(0,o._)("label",nt,[it,(0,o.wy)((0,o._)("input",{id:"DietaryFiber",type:"number",min:"0",max:"100",class:"form-control",placeholder:"每100g膳食纖維","onUpdate:modelValue":t[20]||(t[20]=e=>i.tempItem.DietaryFiber=e)},null,512),[[V.nr,i.tempItem.DietaryFiber,void 0,{number:!0}]])])]),(0,o._)("div",st,[(0,o._)("label",rt,[mt,(0,o.wy)((0,o._)("input",{id:"sodium",type:"number",min:"0",class:"form-control",placeholder:"每100g含鈉(mg)","onUpdate:modelValue":t[21]||(t[21]=e=>i.tempItem.sodium=e)},null,512),[[V.nr,i.tempItem.sodium,void 0,{number:!0}]])])]),(0,o._)("div",ct,[(0,o._)("label",dt,[ut,(0,o.wy)((0,o._)("input",{id:"calcium",type:"number",min:"0",class:"form-control",placeholder:"每100g含鈣(mg)","onUpdate:modelValue":t[22]||(t[22]=e=>i.tempItem.calcium=e)},null,512),[[V.nr,i.tempItem.calcium,void 0,{number:!0}]])])]),(0,o._)("div",pt,[(0,o._)("label",bt,[_t,(0,o.wy)((0,o._)("input",{id:"potassium",type:"number",min:"0",class:"form-control",placeholder:"每100g含鉀(mg)","onUpdate:modelValue":t[23]||(t[23]=e=>i.tempItem.potassium=e)},null,512),[[V.nr,i.tempItem.potassium,void 0,{number:!0}]])])]),(0,o._)("div",gt,[(0,o._)("label",ht,[ft,(0,o.wy)((0,o._)("input",{id:"zinc",type:"number",min:"0",class:"form-control",placeholder:"每100g含鋅(mg)","onUpdate:modelValue":t[24]||(t[24]=e=>i.tempItem.zinc=e)},null,512),[[V.nr,i.tempItem.zinc,void 0,{number:!0}]])])]),(0,o._)("div",yt,[(0,o._)("label",It,[wt,(0,o.wy)((0,o._)("input",{id:"magnesium",type:"number",min:"0",class:"form-control",placeholder:"每100g含鎂(mg)","onUpdate:modelValue":t[25]||(t[25]=e=>i.tempItem.magnesium=e)},null,512),[[V.nr,i.tempItem.magnesium,void 0,{number:!0}]])])]),(0,o._)("div",vt,[(0,o._)("label",Ut,[kt,(0,o.wy)((0,o._)("input",{id:"iron",type:"number",min:"0",class:"form-control",placeholder:"每100g含鐵(mg)","onUpdate:modelValue":t[26]||(t[26]=e=>i.tempItem.iron=e)},null,512),[[V.nr,i.tempItem.iron,void 0,{number:!0}]])])])])])])]),(0,o._)("div",xt,[Pt,i.is_addNew?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[27]||(t[27]=t=>{s.closeModal(),e.$emit("editProduct",i.tempItem)})}," 建立新產品 ")):((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",class:"btn btn-success",onClick:t[28]||(t[28]=t=>{s.closeModal(),e.$emit("editProduct",i.tempItem)})}," 更新產品內容 "))])])])])}var Ct=l(7244),Ft=l(2152),Dt=l.n(Ft),$t={name:"ModalEdit",data(){return{modal:"",is_uploadImg:0,uploadImgFile:{imageUrl:"",message:""},tempItem:{imagesUrl:[]},is_addNew:0}},methods:{openModal(e,t){this.organizeData(e,t),this.modal.show()},closeModal(){this.modal.hide()},uploadProductImg(){this.is_uploadImg=1,this.uploadImgFile={imageUrl:"",message:""};const e=document.querySelector("#btnUploadImg"),t=e.files[0];console.dir(t);const l=new FormData;l.append("file-to-upload",t),this.$http.post("https://vue3-course-api.hexschool.io/v2/api/sylviah/admin/upload",l).then((t=>{console.log(t.data.imageUrl),this.uploadImgFile.imageUrl=t.data.imageUrl,this.is_uploadImg=0,e.value=""})).catch((e=>{console.log(e.response.message),this.uploadImgFile.message=e.response.message,this.is_uploadImg=0}))},copyText(){const e=new(Dt())("#btn_copyLink");e.on("success",(e=>{console.info("Action:",e.action),console.info("Text:",e.text),console.info("Trigger:",e.trigger),e.clearSelection()})),e.on("error",(e=>{console.error("Action:",e.action),console.error("Trigger:",e.trigger)}))},organizeData(e,t){this.is_addNew=e,this.tempItem={imagesUrl:[]},t&&(this.tempItem=JSON.parse(JSON.stringify(t)),t.imagesUrl||(this.tempItem.imagesUrl=[]))}},mounted(){this.modal=new Ct.u_(document.getElementById("editModal"))}},Mt=l(3744);const zt=(0,Mt.Z)($t,[["render",Vt]]);var St=zt,Et={data(){return{products:[],pagination:{},tempItemInfo:{imagesUrl:[]},is_addNewProduct:0}},components:{ModalEdit:St,PaginationProducts:P.Z},methods:{getProducts(e=1){this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/sylviah/admin/products?page=${e}`).then((e=>{this.products=e.data.products,this.pagination=e.data.pagination})).catch((e=>{console.log(e.response)}))},changeStatus(e){this.products.forEach((t=>{const l=t;l.id===e&&(l.is_enabled?l.is_enabled=0:l.is_enabled=1,this.is_addNewProduct=0,this.editProduct(l,e))}))},editProduct(e,t){e&&(this.tempItemInfo=e);const l={data:this.tempItemInfo};let o="",a="";this.is_addNewProduct?(o="post",a="https://vue3-course-api.hexschool.io/v2/api/sylviah/admin/product"):(o="put",a=`https://vue3-course-api.hexschool.io/v2/api/sylviah/admin/product/${this.tempItemInfo.id||t}`),this.$http[o](a,l).then((()=>{"post"===o?this.$swal.fire({icon:"success",title:"成功！",text:`成功新增 ${this.tempItemInfo.title}`}):this.$swal.fire({icon:"success",title:"成功！",text:`已更新 ${this.tempItemInfo.title} 的資訊`}),this.getProducts(this.pagination.current_page)})).catch((e=>{console.log(e.response);const t=e.response.data.message;let l="";t.forEach((e=>{l+=`${e}。\n`})),this.$swal.fire({icon:"error",title:"失敗！請重新輸入資訊。",text:l})})),this.uploadImgFile={imageUrl:"",message:""}},delProduct(e){e&&(this.tempItemInfo=e);const t=this.tempItemInfo.id,l=`https://vue3-course-api.hexschool.io/v2/api/sylviah/admin/product/${t}`;this.$swal.fire({title:`確定要刪除 ${this.tempItemInfo.title} 嗎？`,text:"商品刪除後將無法恢復。",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"確定刪除！",cancelButtonText:"取消"}).then((e=>{e.isConfirmed&&this.$http.delete(l).then((()=>{this.$swal.fire({icon:"success",title:"成功！",text:`已刪除 ${this.tempItemInfo.title} 的資訊`}),this.getProducts(this.pagination.current_page)})).catch((()=>{this.$swal.fire({icon:"error",title:"失敗！",text:"請再試一次"})}))}))},organizeData(e,t){this.is_addNewProduct=e,this.tempItemInfo={imagesUrl:[]},t&&(this.tempItemInfo=JSON.parse(JSON.stringify(t)),t.imagesUrl||(this.tempItemInfo.imagesUrl=[]))},openEditModal(e,t){this.organizeData(e,t),this.$refs.editProductModal.openModal(e,t)}},mounted(){this.getProducts()}};const Nt=(0,Mt.Z)(Et,[["render",x]]);var Tt=Nt}}]);
//# sourceMappingURL=759.3a794b72.js.map