"use strict";(self["webpackChunkweek7_vue_project"]=self["webpackChunkweek7_vue_project"]||[]).push([[816],{2816:function(t,l,e){e.r(l),e.d(l,{default:function(){return gt}});var s=e(6252),o=e(3577);const c={class:"container | py-20"},r={class:"row"},d={class:"col-3"},a=(0,s._)("button",{class:"bttn-unite bttn-md bttn-success bttn-no-outline py-2 fz-6"}," ⇦ 返回 ",-1),i={class:"row"},n={class:"col-12 col-md-6"},u={class:"text-center"},p={class:"col-12"},_={class:"border overflow-hidden rounded-3 shadow | m-8"},h=["src","alt"],g={class:"row m-6"},m={class:"col-4"},w={class:"border overflow-hidden rounded-3"},v=["src","alt"],b={class:"border overflow-hidden rounded-3"},f=["src","alt"],z={class:"col-12 col-md-6 | pt-15"},y={class:"row | mb-5"},k={class:"row | my-5"},x={class:"col-10 offset-1"},C=(0,s._)("hr",null,null,-1),U={class:"d-flex align-items-center"},$=(0,s._)("p",{class:"fw-bold"}," 本產品內含份量： ",-1),I={class:"d-flex align-items-center"},T=(0,s._)("p",{class:"fw-bold text-muted"}," 原價： ",-1),D={class:"text-muted"},L=(0,s.Uk)(" 元 "),F=(0,s._)("p",{class:"ms-5"}," 折扣後優惠價： ",-1),K={class:"fw-bold text-danger fz-8"},j=(0,s._)("p",null," 元",-1),q=(0,s._)("hr",null,null,-1),P={class:"col-10 offset-1"},H=["disabled"],S={key:0,class:"spinner-border text-warning",role:"status"},W=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),Y=[W],Z={key:1},A=(0,s._)("i",{class:"bi bi-cart3 me-2"},null,-1),B=(0,s.Uk)(" 馬上加入購物車 "),E=[A,B],G={class:"row | mb-10"},J={class:"fz-4 text-muted"},M={key:0,class:"row"},N={class:"col-12"},O={class:"table table-hover table-bordered"},Q=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{colspan:"4"}," 食材內含主要營養素成份表（每 100g ） ")])],-1),R=(0,s._)("th",{scope:"row",style:{width:"30%"}}," 熱量 ",-1),V={style:{width:"25%"}},X=(0,s._)("td",{style:{width:"30%"}},[(0,s._)("b",null,"粗蛋白")],-1),tt=(0,s._)("th",{scope:"row"}," 總碳水化合物 ",-1),lt=(0,s._)("td",null,[(0,s._)("b",null,"膳食纖維")],-1),et=(0,s._)("th",{scope:"row"}," 粗脂肪 ",-1),st=(0,s._)("td",null,[(0,s._)("b",null,"飽和脂肪")],-1),ot=(0,s._)("th",{scope:"row"}," 鈉 ",-1),ct=(0,s._)("td",null,[(0,s._)("b",null,"鈣")],-1),rt=(0,s._)("th",{scope:"row"}," 鉀 ",-1),dt=(0,s._)("td",null,[(0,s._)("b",null,"鋅")],-1),at=(0,s._)("th",{scope:"row"}," 鎂 ",-1),it=(0,s._)("td",null,[(0,s._)("b",null,"鐵")],-1),nt=(0,s._)("p",{class:"text-start fz-3"},[(0,s.Uk)(" ✵ 依據衛生福利部食品藥物管理署所公佈"),(0,s._)("a",{href:"https://data.gov.tw/dataset/8543",target:"_blank"},"「食品營養成分資料集」"),(0,s.Uk)("資料內容 ")],-1);function ut(t,l,e,W,A,B){const ut=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",c,[(0,s._)("div",r,[(0,s._)("div",d,[(0,s.Wm)(ut,{to:"../products"},{default:(0,s.w5)((()=>[a])),_:1})])]),(0,s._)("div",i,[(0,s._)("div",n,[(0,s._)("h2",u,(0,o.zw)(A.product.title),1),(0,s._)("div",p,[(0,s._)("div",_,[(0,s._)("img",{class:"w-100 heightLimit1 img-cover",src:A.tempImgUrl,alt:A.product.title},null,8,h)])]),(0,s._)("div",g,[(0,s._)("div",m,[(0,s._)("div",w,[(0,s._)("img",{class:"w-100 heightLimit2 img-cover btn p-0",src:A.product.imageUrl,alt:A.product.title,onClick:l[0]||(l[0]=(...t)=>B.changeTemp&&B.changeTemp(...t)),onKeydown:l[1]||(l[1]=(...l)=>t.enter&&t.enter(...l))},null,40,v)])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.product.imagesUrl,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-4",key:o},[(0,s._)("div",b,[(0,s._)("img",{class:"w-100 heightLimit2 img-cover btn p-0",src:e,alt:A.product.title,onClick:l[2]||(l[2]=(...t)=>B.changeTemp&&B.changeTemp(...t)),onKeydown:l[3]||(l[3]=(...l)=>t.enter&&t.enter(...l))},null,40,f)])])))),128))])]),(0,s._)("div",z,[(0,s._)("div",y,[(0,s._)("p",null,(0,o.zw)(A.product.description||""),1)]),(0,s._)("div",k,[(0,s._)("div",x,[C,(0,s._)("div",U,[$,(0,s._)("span",null,(0,o.zw)(A.product.number)+" "+(0,o.zw)(A.product.unit),1)]),(0,s._)("div",I,[T,(0,s._)("span",D,[(0,s._)("s",null,(0,o.zw)(t.$filters.toCurrency(A.product.origin_price)),1),L]),F,(0,s._)("span",K,(0,o.zw)(t.$filters.toCurrency(A.product.price)),1),j]),q]),(0,s._)("div",P,[(0,s._)("button",{onClick:l[4]||(l[4]=t=>B.addCart(A.product.id)),disabled:A.product.id===A.is_loadingItem,type:"button",class:"btn btn-danger d-flex align-items-center ms-auto"},[A.product.id===A.is_loadingItem?((0,s.wg)(),(0,s.iD)("div",S,Y)):((0,s.wg)(),(0,s.iD)("div",Z,E))],8,H)])]),(0,s._)("div",G,[(0,s._)("p",J,(0,o.zw)(A.product.content||""),1)]),A.product.is_nutrients?((0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",N,[(0,s._)("table",O,[Q,(0,s._)("tbody",null,[(0,s._)("tr",null,[R,(0,s._)("td",V,(0,o.zw)(A.product.calorie)+" kcal ",1),X,(0,s._)("td",null,(0,o.zw)(A.product.protein)+" g ",1)]),(0,s._)("tr",null,[tt,(0,s._)("td",null,(0,o.zw)(A.product.carbohydrate)+" g ",1),lt,(0,s._)("td",null,(0,o.zw)(A.product.DietaryFiber)+" g ",1)]),(0,s._)("tr",null,[et,(0,s._)("td",null,(0,o.zw)(A.product.crudeFat)+" g ",1),st,(0,s._)("td",null,(0,o.zw)(A.product.SaturatedFat)+" g ",1)]),(0,s._)("tr",null,[ot,(0,s._)("td",null,(0,o.zw)(A.product.sodium)+" mg ",1),ct,(0,s._)("td",null,(0,o.zw)(A.product.calcium)+" mg ",1)]),(0,s._)("tr",null,[rt,(0,s._)("td",null,(0,o.zw)(A.product.potassium)+" mg ",1),dt,(0,s._)("td",null,(0,o.zw)(A.product.zinc)+" mg ",1)]),(0,s._)("tr",null,[at,(0,s._)("td",null,(0,o.zw)(A.product.magnesium)+" mg ",1),it,(0,s._)("td",null,(0,o.zw)(A.product.iron)+" mg ",1)])])]),nt])])):(0,s.kq)("",!0)])])])}var pt={data(){return{product:[],tempImgUrl:"",is_loadingItem:"",carts:[],isLoading:!1}},methods:{getProduct(t){this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/sylviah/product/${t}`).then((t=>{console.log(t.data),this.product=t.data.product,this.getTemp()})).catch((t=>{console.log(t.response)}))},getTemp(){this.tempImgUrl=this.product.imageUrl},changeTemp(t){this.tempImgUrl=t.target.src},getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/sylviah/cart").then((t=>{this.carts=t.data.data})).catch((t=>{console.log(t.response)}))},addCart(t,l=1){const e={product_id:t,qty:l};this.is_loadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/sylviah/cart",{data:e}).then((t=>{console.log(t.data);const l=t.data.data.product.title,e=t.data.message;this.$swal.fire({icon:"success",title:"成功！",text:`${l} ${e}`}),this.getCart(),this.is_loadingItem=""})).catch((t=>{console.log(t.response)}))},showLoading(){const t=this.$loading.show();setTimeout((()=>{t.hide()}),500)}},mounted(){this.showLoading();const{id:t}=this.$route.params;this.getProduct(t),this.getCart()}},_t=e(3744);const ht=(0,_t.Z)(pt,[["render",ut]]);var gt=ht}}]);
//# sourceMappingURL=816.f62347f1.js.map