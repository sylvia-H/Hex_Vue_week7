{"version":3,"file":"js/419.1a1e7f79.js","mappings":"+MACOA,MAAM,mB,ihBA2BJA,MAAM,uC,GAEJA,MAAM,mB,GACFA,MAAM,qB,GACXC,EAAAA,EAAAA,GAQQ,eAPNA,EAAAA,EAAAA,GAMK,YALHA,EAAAA,EAAAA,GAAiC,MAA7BC,MAAM,MAAMC,MAAM,SACtBF,EAAAA,EAAAA,GAA2C,MAAvCC,MAAM,MAAMF,MAAM,eAAc,OACpCC,EAAAA,EAAAA,GAAuD,MAAnDC,MAAM,MAAMC,MAAM,MAAMH,MAAM,eAAc,OAChDC,EAAAA,EAAAA,GAAuD,MAAnDC,MAAM,MAAMC,MAAM,MAAMH,MAAM,eAAc,OAChDC,EAAAA,EAAAA,GAAmD,MAA/CC,MAAM,MAAMC,MAAM,KAAKH,MAAM,YAAW,UANhD,G,mBAsBSA,MAAM,gB,GAIPA,MAAM,8DAMNI,KAAK,QACL,aAAW,S,qEAiCXJ,MAAM,Y,iBAabA,MAAM,+C,GACJA,MAAM,S,GAEJA,MAAM,gB,GACJA,MAAM,kC,GACTC,EAAAA,EAAAA,GAAS,SAAN,MAAE,G,GAIJD,MAAM,iD,GAEJA,MAAM,S,GAEPC,EAAAA,EAAAA,GAES,UAFDD,MAAM,iCAAgC,QAE9C,G,GAGCA,MAAM,S,yFAhIrBK,EAAAA,EAAAA,IA+IM,MA/IN,EA+IM,CA9IJC,GA0BAL,EAAAA,EAAAA,GAmHM,MAnHN,EAmHM,EAjHJA,EAAAA,EAAAA,GA+EM,MA/EN,EA+EM,EA9EJA,EAAAA,EAAAA,GA6EQ,QA7ER,EA6EQ,CA5ENM,GASAN,EAAAA,EAAAA,GAkEQ,6BAjENI,EAAAA,EAAAA,IAgEKG,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAhEcC,EAAAA,MAAMC,OAAdC,K,WAAXP,EAAAA,EAAAA,IAgEK,MAhE4BQ,IAAKD,EAAKE,GAAId,MAAM,gBAArD,EACEC,EAAAA,EAAAA,GAMK,YALHA,EAAAA,EAAAA,GAIE,OAHCc,IAAKH,EAAKI,QAAQC,SAClBC,IAAKN,EAAKI,QAAQG,MACnBnB,MAAM,yBAHR,aAMFC,EAAAA,EAAAA,GAEK,YADHA,EAAAA,EAAAA,GAA+B,UAAAmB,EAAAA,EAAAA,IAAzBR,EAAKI,QAAQG,OAAK,MAE1BlB,EAAAA,EAAAA,GAEK,YADHA,EAAAA,EAAAA,GAAuD,IAAvD,EAAwB,OAAGmB,EAAAA,EAAAA,IAAGR,EAAKI,QAAQK,OAAK,MAElDpB,EAAAA,EAAAA,GAyCK,YAxCHA,EAAAA,EAAAA,GAuCM,MAvCN,EAuCM,EA7BJA,EAAAA,EAAAA,GAOS,UANNqB,QAAK,GAAEC,EAAAA,SAASX,EAAKE,GAAIF,EAAKY,IAAG,GACjCC,SAAUb,EAAKY,IAAG,MACnBE,KAAK,SACL1B,MAAM,6CACP,MAED,EAAA2B,IACA1B,EAAAA,EAAAA,GAaQ,SAbA2B,IAAKhB,EAAKE,IAAlB,EACEb,EAAAA,EAAAA,GAWE,SAVCa,GAAIF,EAAKE,GACTe,MAAOjB,EAAKY,IACbE,KAAK,OACL1B,MAAM,sEAJR,WADF,MAcAC,EAAAA,EAAAA,GAMS,UALNqB,QAAK,GAAEC,EAAAA,SAASX,EAAKE,GAAIF,EAAKY,IAAG,GAClCE,KAAK,SACL1B,MAAM,6CACP,MAED,EAAA8B,QAGJ7B,EAAAA,EAAAA,GAOK,KAPL,EAOK,EANHA,EAAAA,EAAAA,GAKU,UAJPqB,QAAK,GAAEC,EAAAA,QAAQX,EAAKE,GAAIF,EAAKI,QAAQG,OACtCnB,MAAM,YACN0B,KAAK,SACL,aAAW,SAJb,iBAzDJ,aAqENzB,EAAAA,EAAAA,GA+BM,MA/BN,EA+BM,EA9BJA,EAAAA,EAAAA,GA6BM,MA7BN,EA6BM,EA3BJA,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJ8B,GACA9B,EAAAA,EAAAA,GAA8B,SAA3B,QAAImB,EAAAA,EAAAA,IAAGV,EAAAA,MAAMsB,OAAQ,KAAE,QAG9B/B,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,EAlBJA,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJgC,EAAAA,EAAAA,IAIcC,EAAA,CAJAC,GAAI,CAAAC,KAAAA,aAAqB,C,kBACrC,IAES,CAFTC,K,SAKJpC,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJgC,EAAAA,EAAAA,IAQcC,EAAA,CARAC,GAAI,CAAAC,KAAAA,kBAA0B,C,kBAC1C,IAMS,EANTnC,EAAAA,EAAAA,GAMS,UALPyB,KAAK,SACJD,SAA6B,IAAnBf,EAAAA,MAAMC,OAAO2B,OACxBtC,MAAM,wBACP,QAED,EAAAuC,M,kBAWhB,OACEC,OACE,MAAO,CACL7B,MAAO,GACP8B,SAAU,CACRC,KAAM,CACJN,KAAM,GACNO,MAAO,GACPC,IAAK,GACLC,QAAS,IAEXC,QAAS,MAIfC,QAAS,CACPC,UACEC,KAAKC,MACFC,IACE,4DAEFC,MAAMC,IACLJ,KAAKtC,MAAQ0C,EAAIb,KAAKA,QAEvBc,OAAOC,IACNC,QAAQC,IAAIF,EAAIG,cAGtBC,SAAS7C,EAAIU,GACX,MAAMgB,EAAO,CACXoB,WAAY9C,EACZU,IAAAA,GAEFyB,KAAKC,MACFW,IACE,4DAAsE/C,IACvE,CAAE0B,KAAAA,IAEHY,MAAMC,IACLG,QAAQC,IAAIJ,EAAIb,MAChBS,KAAKD,aAENM,OAAOC,IACNC,QAAQC,IAAIF,EAAIG,cAGtBI,QAAQhD,EAAIK,GACV,MAAM4C,EAAO,4DAAsEjD,IAEnFmC,KAAKe,MACFC,KAAK,CACJ9C,MAAQ,OAAMA,QACd+C,KAAM,cACNC,KAAM,UACNC,kBAAkB,EAClBC,mBAAoB,OACpBC,kBAAmB,UACnBC,kBAAmB,QACnBC,iBAAkB,OAEnBpB,MAAMqB,IACDA,EAAOC,aACTzB,KAAKC,MACFyB,OAAOZ,GACPX,MAAK,KAEJH,KAAKe,MAAMC,KAAK,CACdE,KAAM,UACNhD,MAAO,MACP+C,KAAO,MAAK/C,UAEd8B,KAAKD,aAENM,OAAM,KAELL,KAAKe,MAAMC,KAAK,CACdE,KAAM,QACNhD,MAAO,MACP+C,KAAM,iBAMpBU,cACE,MAAMpC,EAAOS,KAAKR,SAClBQ,KAAKC,MACF2B,KACE,4DACD,CAAErC,KAAAA,IAEHY,MAAMC,IACLG,QAAQC,IAAIJ,EAAIb,MAChBS,KAAK6B,MAAMC,KAAKC,YAChB/B,KAAKe,MACFC,KAAK,MAAQ,iBAAgBZ,EAAIb,KAAKR,UAAW,CAChDmC,KAAM,YAEPf,MAAM6B,IACDA,GACFhC,KAAKiC,QAAQC,KAAK,WAIzB7B,OAAOC,IACNC,QAAQC,IAAIF,EAAIG,UAEhBT,KAAKe,MAAMC,KAAK,MAAO,gBAAiB,CACtCE,KAAM,cAIdiB,cACE,MAAMC,EAASpC,KAAKqC,SAASC,OAC7BC,YAAW,KACTH,EAAOI,SACN,OAOPC,UACEzC,KAAKD,UACLC,KAAKmC,gB,UC5QT,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week7-vue-project/./src/views/Front/FCheckoutCart.vue","webpack://week7-vue-project/./src/views/Front/FCheckoutCart.vue?58c5"],"sourcesContent":["<template>\n  <div class=\"container py-18\">\n    <div class=\"row mb-6\">\n      <div class=\"col-12 col-lg-7\">\n        <div class=\"row g-0 | timeline\">\n          <div class=\"col-3\">\n            <div class=\"timeline-pointer\">\n              <h6 class=\"fw-bold mt-5\">確認訂單</h6>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"timeline-pointer-undone\">\n              <h6 class=\"fw-light mt-5\">填寫訂購資訊</h6>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"timeline-pointer-undone\">\n              <h6 class=\"fw-light mt-5\">填寫付款資訊</h6>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"timeline-pointer-undone\">\n              <h6 class=\"fw-light mt-5\">完成訂購</h6>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row flex-column-reverse flex-md-row\">\n      <!-- 訂單內容 -->\n      <div class=\"col-12 col-lg-7\">\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\" width=\"20%\"></th>\n              <th scope=\"col\" class=\"text-center\">品名</th>\n              <th scope=\"col\" width=\"10%\" class=\"text-center\">單價</th>\n              <th scope=\"col\" width=\"20%\" class=\"text-center\">數量</th>\n              <th scope=\"col\" width=\"8%\" class=\"text-end\">刪除</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in carts.carts\" :key=\"item.id\" class=\"align-middle\">\n              <td>\n                <img\n                  :src=\"item.product.imageUrl\"\n                  :alt=\"item.product.title\"\n                  class=\"img-cover w-100 h-100\"\n                />\n              </td>\n              <td>\n                <p>{{ item.product.title }}</p>\n              </td>\n              <td>\n                <p class=\"fw-bold me-6\">NT${{ item.product.price }}</p>\n              </td>\n              <td>\n                <div\n                  class=\"\n                    btn-group\n                    d-flex\n                    justify-content-between\n                    align-items-center\n                  \"\n                  role=\"group\"\n                  aria-label=\"Basic\"\n                >\n                  <button\n                    @click=\"editCart(item.id, item.qty - 1)\"\n                    :disabled=\"item.qty - 1 === 0\"\n                    type=\"button\"\n                    class=\"btn btn-warning fw-bold d-none d-md-block\"\n                  >\n                    －\n                  </button>\n                  <label :for=\"item.id\">\n                    <input\n                      :id=\"item.id\"\n                      :value=\"item.qty\"\n                      type=\"text\"\n                      class=\"\n                        form-control-plaintext\n                        p-0\n                        border-0\n                        fw-bold\n                        text-black text-center\n                      \"\n                    />\n                  </label>\n                  <button\n                    @click=\"editCart(item.id, item.qty + 1)\"\n                    type=\"button\"\n                    class=\"btn btn-warning fw-bold d-none d-md-block\"\n                  >\n                    ＋\n                  </button>\n                </div>\n              </td>\n              <td class=\"text-end\">\n                <button\n                  @click=\"delCart(item.id, item.product.title)\"\n                  class=\"btn-close\"\n                  type=\"button\"\n                  aria-label=\"Close\"\n                ></button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <!-- Info -->\n      <div class=\"col-12 offset-lg-1 col-lg-4 | mb-16 mb-md-0\">\n        <div class=\"mb-10\">\n          <!-- subtotal -->\n          <div class=\"bg-light p-5\">\n            <div class=\"d-flex justify-content-between\">\n              <p>小計</p>\n              <p>NT$ {{ carts.total }} 元</p>\n            </div>\n          </div>\n          <div class=\"row d-flex justify-content-end | my-8 my-md-4\">\n            <!-- 返回 & 下一步 -->\n            <div class=\"col-6\">\n              <router-link :to=\"{ name : 'products' }\">\n                <button class=\"btn btn-outline-primary w-100\">\n                  返回\n                </button>\n              </router-link>\n            </div>\n            <div class=\"col-6\">\n              <router-link :to=\"{ name : 'checkoutOrder' }\">\n                <button\n                  type=\"button\"\n                  :disabled=\"carts.carts?.length === 0\"\n                  class=\"btn btn-danger w-100\"\n                >\n                  下一步\n                </button>\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      carts: [],\n      formData: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    getCart() {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/cart`,\n        )\n        .then((res) => {\n          this.carts = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err.response);\n        });\n    },\n    editCart(id, qty) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/cart/${id}`,\n          { data },\n        )\n        .then((res) => {\n          console.log(res.data);\n          this.getCart();\n        })\n        .catch((err) => {\n          console.log(err.response);\n        });\n    },\n    delCart(id, title) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/cart/${id}`;\n\n      this.$swal\n        .fire({\n          title: `確定要將${title}刪除嗎？`,\n          text: '商品刪除後將無法恢復。',\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#d33',\n          cancelButtonColor: '#3085d6',\n          confirmButtonText: '確定刪除！',\n          cancelButtonText: '取消',\n        })\n        .then((result) => {\n          if (result.isConfirmed) {\n            this.$http\n              .delete(url)\n              .then(() => {\n                // 成功刪除產品，sweetalert 跳出提示訊息視窗\n                this.$swal.fire({\n                  icon: 'success',\n                  title: '成功！',\n                  text: `您已將${title}刪除了！`,\n                });\n                this.getCart();\n              })\n              .catch(() => {\n                // 刪除失敗，sweetalert 跳出提示訊息視窗\n                this.$swal.fire({\n                  icon: 'error',\n                  title: '失敗！',\n                  text: '請再試一次',\n                });\n              });\n          }\n        });\n    },\n    submitOrder() {\n      const data = this.formData;\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_API_PATH}/order`,\n          { data },\n        )\n        .then((res) => {\n          console.log(res.data);\n          this.$refs.form.resetForm();\n          this.$swal\n            .fire('成功！', `已送出訂單！總金額 NT$ ${res.data.total} 元`, {\n              icon: 'success',\n            })\n            .then((check) => {\n              if (check) {\n                this.$router.push('/');\n              }\n            });\n        })\n        .catch((err) => {\n          console.log(err.response);\n          // 刪除失敗，sweetalert 跳出提示訊息視窗\n          this.$swal.fire('失敗！', '送出訂單失敗，請再試一次！', {\n            icon: 'error',\n          });\n        });\n    },\n    showLoading() {\n      const loader = this.$loading.show();\n      setTimeout(() => {\n        loader.hide();\n      }, 500);\n      // this.isLoading = true;\n      // setTimeout(() => {\n      //   this.isLoading = false;\n      // }, 1000);\n    },\n  },\n  mounted() {\n    this.getCart();\n    this.showLoading();\n  },\n};\n</script>\n","import { render } from \"./FCheckoutCart.vue?vue&type=template&id=4c34de44\"\nimport script from \"./FCheckoutCart.vue?vue&type=script&lang=js\"\nexport * from \"./FCheckoutCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\F2E\\\\Hex 六角學院\\\\HEX-六角2022 Vue 直播班\\\\Vue 直播班主線任務\\\\Hex_Vue_week7\\\\week7-vue-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","width","role","_createElementBlock","_hoisted_2","_hoisted_6","_Fragment","_renderList","$data","carts","item","key","id","src","product","imageUrl","alt","title","_toDisplayString","price","onClick","$options","qty","disabled","type","_hoisted_10","for","value","_hoisted_13","_hoisted_20","total","_createVNode","_component_router_link","to","name","_hoisted_23","length","_hoisted_25","data","formData","user","email","tel","address","message","methods","getCart","this","$http","get","then","res","catch","err","console","log","response","editCart","product_id","put","delCart","url","$swal","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete","submitOrder","post","$refs","form","resetForm","check","$router","push","showLoading","loader","$loading","show","setTimeout","hide","mounted","__exports__","render"],"sourceRoot":""}